# Stand Alone Fraud Detection Model

This directory contains a stand alone fraud detection model. Which could be run as a prototype with minimal modification. Two main scripts are contained here:

[train.py](train/train.py)

This uses the MongoDB and the `einsteinds` python package to train a fraud detection machine learning model, saving it to the models folder when complete.

[predict.py](predict/predict.py)

This is a script that keeps a running history of the last 2 hours of data from MongoDB, and polls MongoDB once every minute for new events. When there are interac or credit card purchase requests, the requests are converted into request sets, summarized and a prediction is generated by the algorithm.

This could be easily converted into an AWS Lambda for deployment, or a Docker container for deployment in a Kubernetes cluster.

To run this make sure you have:

1. A credentials file with the connection string to a mongodb in the directory called `creds.json` containing a json like so:

```
{
    "connection_string": <mongo connection string>
}
```

2. Have installed the `einsteinds` package by going into its directory and running `pip install -e .` in bash.

3. Have installed the requirements using `pip install requirements.txt` and dealt with any install issues.

Then:

1. Run `train.py` to train the model.
2. Move the trained model to './models/random_forest.p'
3. Run 'predict.py'

Note that this is meant to run live, so if you're using an old local copy of mongo it's not going to show anything because the events are not being created.